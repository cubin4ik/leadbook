{% extends 'dashboard/base.html' %}
{% block content %}
<form method="GET" class="form-inline d-flex md-form mr-auto mb-4 form-sm mt-0">
    <a href="{% url 'business:reminder-create' %}" class="mr-3">
        <svg width="1.5em" height="1.5em" viewBox="0 0 16 16" class="bi bi-plus-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"/>
            <path fill-rule="evenodd" d="M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"/>
            <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
        </svg>
    </a>
    <input class="form-control flex-fill w-auto" type="search" name="task" placeholder="{% if query_request %}{{ query_request }}{% else %}Search by title{% endif %}" aria-label="Search">
</form>
<input id="mine" type="checkbox" name="mine">
<label for="mine">show only my tasks</label>
<table class="table table-hover">
    <thead>
    <tr>
        <th scope="col">Task</th>
        <th scope="col">Date</th>
        <th scope="col">Done</th>
    </tr>
    </thead>
    <tbody>
    {% for reminder in reminder_list %}
    <tr class="task-item {{ reminder.get_importance_display }}">
        <td>
            <div class="mb-2">
                <a href="{% url 'business:reminder-detail' reminder.pk %}" class="task-title text-muted" data-toggle="tooltip" data-placement="right" title="{{ reminder.description }}">
                    {{ reminder.task|capfirst }}
                </a>
            </div>
            <span style="font-weight: 700; font-size: 14px">{{ reminder.due_time|time:"g:i A" }}</span>
        </td>
        <td class="text-muted">{{ reminder.due_time|date:"d M Y" }}</td>
        <td>
            <form action="{% url 'business:reminder-done' reminder.pk %}" method="POST">
                {% csrf_token %}
                <input type="hidden" name="next" value="{{ request.build_absolute_uri }}">
                {% if reminder.done %}
                <button type="submit" name="done" value="" class="btn btn-outline-warning m-2 float-right">Uncomplete</button>
                {% else %}
                <button type="submit" name="done" value="True" class="btn btn-outline-success m-2 float-right">Complete</button>
                {% endif %}
            </form>
        </td>
        <!--        <td class="text-muted"><input type="checkbox" id="reminder{{ reminder.id }}" name="reminder{{ reminder.id }}" value="True"></td>-->
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock content %}